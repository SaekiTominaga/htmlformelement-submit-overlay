var t,e,i,n,s=this&&this.__classPrivateFieldSet||function(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},o=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};import a from"../../../dialog-polyfill/dist/dialog-polyfill.esm.js";export default class{constructor(o){if(t.set(this,void 0),e.set(this,void 0),i.set(this,void 0),n.set(this,void 0),void 0===window.HTMLDialogElement){const t=document.createElement("style");t.textContent="\n\t\t\t\tdialog {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\twidth: -webkit-fit-content;\n\t\t\t\t\twidth: fit-content;\n\t\t\t\t\theight: -webkit-fit-content;\n\t\t\t\t\theight: fit-content;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\tborder: solid;\n\t\t\t\t\tpadding: 1em;\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tcolor: black;\n\t\t\t\t}\n\n\t\t\t\tdialog:not([open]) {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t",document.head.insertAdjacentElement("beforeend",t)}s(this,t,o),s(this,i,this._submitEvent.bind(this)),s(this,n,this._windowUnloadEvent.bind(this))}init(){const e=o(this,t).dataset.dialogClass,s=o(this,t).dataset.dialogMessage;if(void 0===s)throw new Error("Attribute: `data-dialog-message` is not set.");this._create(e,s),o(this,t).addEventListener("submit",o(this,i),{passive:!0}),window.addEventListener("unload",o(this,n),{passive:!0})}_create(t,i){const n=document.createElement("dialog");void 0!==t&&(n.className=t),n.setAttribute("role","alertdialog"),n.setAttribute("aria-modal","true"),n.insertAdjacentHTML("afterbegin",i),document.body.appendChild(n),s(this,e,n),a.registerDialog(n)}_submitEvent(){o(this,e).showModal()}_windowUnloadEvent(){o(this,e).close()}}t=new WeakMap,e=new WeakMap,i=new WeakMap,n=new WeakMap;
//# sourceMappingURL=FormSubmitOverlay.min.js.map